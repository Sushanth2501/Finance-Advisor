<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Page with Menu and User Profile</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            background-image: url('background.jpg');
            background-size: cover;
            background-position: center;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            height: 100vh;
        }
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px 20px;
            color: white;
        }
        .menu {
            list-style: none;
            display: flex;
            margin: 0;
            padding: 0;
        }
        .menu li {
            margin: 0 15px;
            position: relative;
        }
        .menu li a {
            color: white;
            text-decoration: none;
            font-size: 18px;
            cursor: pointer;
        }
        .user-profile {
            width: 45px;
    height: 45px;
    border-radius: 50%;
    object-fit: cover;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    border: 2px solid #fff;
}

.user-profile:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}
.container{
            text-align: center;
            margin-top: 50px;
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 80%;
            margin-left: auto;
            margin-right: auto;
        }
        .services-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        .service-button {
            text-align: center;
        }
        .service-button img {
            width: 150px;
            height: 150px;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .service-button img:hover {
            transform: scale(1.1);
        }
        .service-button p {
            font-size: 18px;
            color: black;
        }
        .profile-dropdown {
    position: absolute;
    top: 60px;
    right: 20px;
    background: #ffffff;
    border: 1px solid #ccc;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    width: 250px;
    display: none;
    z-index: 1000;
    padding: 10px;
}

.profile-dropdown p {
    margin: 8px 10px;
    font-size: 14px;
    color: #333; /* Darker text for better contrast */
    font-weight: 500;
}
  
    .profile-dropdown.active {
        display: block;
    }
    .logout-btn {
        background: #ff4d4d;
        color: white;
        border: none;
        padding: 10px;
        margin: 10px;
        width: calc(100% - 20px);
        border-radius: 5px;
        cursor: pointer;
    }
    .logout-btn:hover {
        background: #cc0000;
    }
    .tick-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 150px;
    animation: pop 1s infinite ease-in-out;
}

.tick-circle {
    width: 100px;
    height: 100px;
    background-color: #36A2EB;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

.tick-mark {
    color: white;
    font-size: 48px;
    font-weight: bold;
}

@keyframes pop {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-10px);
    }
}


    </style>
    <script>
        function showServices() {
            document.getElementById('services-section').style.display = 'block';
            document.getElementById('home-section').style.display = 'none';
            document.getElementById('about-section').style.display = 'none';
            document.getElementById('contact-section').style.display = 'none';
            document.getElementById('transaction-details-section').style.display = 'none';
            document.getElementById('transaction-category-section').style.display = 'none';
            document.getElementById('financial-advice-section').style.display = 'none';
        }

        function showHome() {
            document.getElementById('services-section').style.display = 'none';
            document.getElementById('home-section').style.display = 'block';
            document.getElementById('about-section').style.display = 'none';
            document.getElementById('contact-section').style.display = 'none';
            document.getElementById('transaction-details-section').style.display = 'none';
            document.getElementById('transaction-category-section').style.display = 'none';
            document.getElementById('financial-advice-section').style.display = 'none';
            renderChart();
        }
        function showAbout() {
    document.getElementById('home-section').style.display = 'none';
    document.getElementById('services-section').style.display = 'none';
    document.getElementById('about-section').style.display = 'block';
    document.getElementById('contact-section').style.display = 'none';
    document.getElementById('transaction-details-section').style.display = 'none';
    document.getElementById('transaction-category-section').style.display = 'none';
    document.getElementById('financial-advice-section').style.display = 'none';
}
function showContact() {
    document.getElementById('home-section').style.display = 'none';
    document.getElementById('services-section').style.display = 'none';
    document.getElementById('about-section').style.display = 'none';
    document.getElementById('contact-section').style.display = 'block';
    document.getElementById('transaction-details-section').style.display = 'none';
    document.getElementById('transaction-category-section').style.display = 'none';
    document.getElementById('financial-advice-section').style.display = 'none';
}
function showTransactionDetails() {
    document.getElementById('home-section').style.display = 'none';
    document.getElementById('services-section').style.display = 'none';
    document.getElementById('about-section').style.display = 'none';
    document.getElementById('contact-section').style.display = 'none';
    document.getElementById('transaction-details-section').style.display = 'block';
    document.getElementById('transaction-category-section').style.display = 'none';
    document.getElementById('financial-advice-section').style.display = 'none';
}
function showCategorySection() {
    document.getElementById('home-section').style.display = 'none';
    document.getElementById('services-section').style.display = 'none';
    document.getElementById('about-section').style.display = 'none';
    document.getElementById('contact-section').style.display = 'none';
    document.getElementById('transaction-details-section').style.display = 'none';
    document.getElementById('transaction-category-section').style.display = 'block';
    document.getElementById('financial-advice-section').style.display = 'none';
    generateCategoryChart(); // Optional auto-load
}
let yearlyChartInstances = [];

function renderChart() {
    const rows = document.querySelectorAll('#transaction-body tr');
    const yearMonthData = {};

    // Group amounts by year ‚Üí month
    rows.forEach(row => {
        const amount = parseFloat(row.children[1].textContent.replace('‚Çπ', ''));
        const dateStr = row.children[2].textContent;
        const date = new Date(dateStr);
        if (!isNaN(date)) {
            const year = date.getFullYear();
            const month = date.getMonth(); // 0 = Jan

            if (!yearMonthData[year]) {
                yearMonthData[year] = new Array(12).fill(0);
            }
            yearMonthData[year][month] += amount;
        }
    });

    // Clear old charts
    const chartContainer = document.getElementById('yearly-charts-container');
    chartContainer.innerHTML = '';
    yearlyChartInstances.forEach(chart => chart.destroy());
    yearlyChartInstances = [];

    // Create a new chart for each year
    for (const year in yearMonthData) {
        const canvas = document.createElement('canvas');
        canvas.id = `chart-${year}`;
        canvas.style.marginBottom = '40px';
        chartContainer.appendChild(canvas);

        const ctx = canvas.getContext('2d');
        const chart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: [{
                    label: `Transactions in ${year}`,
                    data: yearMonthData[year],
                    backgroundColor: 'rgba(153, 102, 255, 0.5)',
                    borderColor: 'rgba(153, 102, 255, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Month'
                        }
                    },
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Amount (‚Çπ)'
                        }
                    }
                }
            }
        });

        yearlyChartInstances.push(chart);
    }
}


        window.onload = function () {
            showHome();
        };
        function toggleProfileDropdown() {
        const dropdown = document.getElementById('profile-dropdown');
        dropdown.classList.toggle('active');
    }

    function logout() {
        localStorage.removeItem('loggedInUser');
        window.location.href = 'index.html';
    }

    window.onload = function () {
        showHome();

        const user = JSON.parse(localStorage.getItem('loggedInUser') || '{}');
        if (user && user.firstName) {
            document.getElementById('name').innerText = `${user.firstName} ${user.middleName || ''} ${user.lastName}`;
            document.getElementById('username').innerText = `Username: ${user.username}`;
            document.getElementById('email').innerText = `Email: ${user.email}`;
            document.getElementById('phone').innerText = `Phone: ${user.phoneNumber}`;
        }
        else
        {
            window.location.href='index.html';
        }
    };
    let transactionCount = 0;

function addTransaction(event) {
    event.preventDefault();

    const amount = document.getElementById('amount').value;
    const date = document.getElementById('date').value;
    const category = document.getElementById('category').value;
    const tbody = document.getElementById('transaction-body');

    transactionCount++;
    const newRow = document.createElement('tr');
    newRow.innerHTML = `
        <td>${transactionCount}</td>
        <td>‚Çπ${amount}</td>
        <td>${date}</td>
        <td>${category}</td>
        <td><button onclick="deleteTransaction(this)">Delete</button></td>
    `;

    tbody.appendChild(newRow);
    document.getElementById('add-transaction-form').reset();
    renderChart();
}

function deleteTransaction(button) {
    const row = button.parentElement.parentElement;
    row.remove();
    renderChart();
}
function generateCategoryChart() {
    const rows = document.querySelectorAll('#transaction-body tr');
    const categoryTotals = {};

    rows.forEach(row => {
        const amount = parseFloat(row.children[1].textContent.replace('‚Çπ', ''));
        const category = row.children[3].textContent;

        if (categoryTotals[category]) {
            categoryTotals[category] += amount;
        } else {
            categoryTotals[category] = amount;
        }
    });

    const categories = Object.keys(categoryTotals);
    const values = Object.values(categoryTotals);

    const ctx = document.getElementById('categoryPieChart').getContext('2d');
    if (window.pieChartInstance) {
        window.pieChartInstance.destroy(); // Remove old chart
    }

    window.pieChartInstance = new Chart(ctx, {
        type: 'pie',
        data: {
            labels: categories,
            datasets: [{
                data: values,
                backgroundColor: [
                    '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',
                    '#9966FF', '#FF9F40', '#C9CBCF'
                ]
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    position: 'bottom'
                }
            }
        }
    });
}
function showFinancialAdviceSection() {
    document.getElementById('home-section').style.display = 'none';
    document.getElementById('services-section').style.display = 'none';
    document.getElementById('about-section').style.display = 'none';
    document.getElementById('contact-section').style.display = 'none';
    document.getElementById('transaction-details-section').style.display = 'none';
    document.getElementById('transaction-category-section').style.display = 'none';
    document.getElementById('financial-advice-section').style.display = 'block';
}

function showFinancialAdvice() {
    const rows = document.querySelectorAll('#transaction-body tr');
    const categoryTotals = {};

    rows.forEach(row => {
        const amount = parseFloat(row.children[1].textContent.replace('‚Çπ', ''));
        const category = row.children[3].textContent.toLowerCase();

        if (categoryTotals[category]) {
            categoryTotals[category] += amount;
        } else {
            categoryTotals[category] = amount;
        }
    });

    const food = categoryTotals['food'] || 0;
    const entertainment = categoryTotals['entertainment'] || 0;

    const adviceText = document.getElementById('advice-text');

    if (food > 10000) {
        adviceText.innerHTML = `üí∏ You've spent <strong>‚Çπ${food.toFixed(2)}</strong> on food. Consider reducing leisure spending to save more for essentials or long-term goals.`;
    }
    else {
        adviceText.innerHTML = `‚úÖ Great job! Your spending on food and entertainment is under control. Keep it up and maybe allocate more to savings or investments.`;
    }
    if (entertainment > 10000) {
        adviceText.innerHTML = `üí∏ You've spent <strong>‚Çπ${entertainment.toFixed(2)}</strong> on entertainment. Consider reducing leisure spending to save more for essentials or long-term goals.`; 
    }
        else {
        adviceText.innerHTML = `‚úÖ Great job! Your spending on food and entertainment is under control. Keep it up and maybe allocate more to savings or investments.`;
    }
}



    </script>
</head>
<body>
    <nav class="navbar">
        <ul class="menu">
            <li><a onclick="showHome()">Home</a></li>
            <li><a onclick="showAbout()">About</a></li>
            <li><a onclick="showServices()">Services</a></li>
            <li><a onclick="showContact()">Contact</a></li>
        </ul>
        <div class="user-profile" onclick="toggleProfileDropdown()"></div>
<div class="profile-dropdown" id="profile-dropdown">
    <p id="name"></p>
    <p id="username"></p>
    <p id="email"></p>
    <p id="phone"></p>
    <button class="logout-btn" onclick="logout()">Logout</button>
</div>
    </nav>
    
    <div class="container" id="home-section">
        <h2>Transaction Overview</h2>
        <div id="yearly-charts-container"></div>
    </div>
    
    <div class="container" id="services-section" style="display: none;">
        <h2>Our Services</h2>
        <div class="services-container">
            <div class="service-button">
                <a href="#" onclick="showTransactionDetails()"><img src="https://globalfintechseries.com/wp-content/uploads/Resistant-AI-and-ComplyAdvantage-Launch-AI-Transaction-Monitoring-Solution-To-Combat-Fraud-and-Money-Laundering.jpg" alt="Transaction Details" alt="Transaction Details"></a>
                <p>Transaction Details</p>
            </div>
            <div class="service-button">
                <a href="#" onclick="showCategorySection()"><img src="https://fintelite.ai/wp-content/uploads/2023/05/Fintelite-Categorization-Module.png" alt="Transaction Categorization"></a>
                <p>Transaction Categorization</p>
            </div>
            <div class="service-button">
                <a href="#" onclick="showFinancialAdviceSection()"><img src="https://bazucompany.com/wp-content/uploads/2023/07/Harnessing-A-to-Boost-Efficiency.png" alt="Financial Advice"></a>
                <p>Financial Advice</p>
            </div>
        </div>
    </div>
    <div class="container" id="about-section" style="display: none;">
        <h2>üí° About Us</h2>
        <p>Welcome to <strong>fingrow</strong> ‚Äì your personal finance companion!</p>
        <p>We built this expense tracker to help individuals take control of their spending, manage budgets effectively, and develop better financial habits. Whether you're tracking everyday purchases, monthly bills, or saving for a big goal, our tool is designed to make money management simple and stress-free.</p>
    
        <h3>üßæ What You Can Do Here:</h3>
        <ul>
            <li>Add and categorize your daily expenses</li>
            <li>Set budgets and stay within limits</li>
            <li>View insights and spending trends over time</li>
            <li>Delete or update entries with ease</li>
        </ul>
    
        <h3>üîí Your Data, Your Control</h3>
        <p>We respect your privacy. All your data stays secure and accessible only to you.</p>
    
        <h3>üöÄ Why We Built This</h3>
        <p>Managing finances shouldn't be complicated. Our mission is to provide a clean, user-friendly tool that helps everyone‚Äîfrom students to professionals‚Äîkeep their money matters organized and transparent.</p>
    
        <p>Thank you for using fingrow! We're constantly improving, and we‚Äôd love to hear your feedback.</p>
    </div> 
    <div class="container" id="contact-section" style="display: none;">
        <h2>üåê Our Mission</h2>
        <p>To empower individuals and small businesses with simple, effective, and secure tools for managing and understanding their personal finances.</p>
    
        <h3>‚ú® Key Features</h3>
        <ul>
            <li>Add, categorize, and track expenses in real time</li>
            <li>Set custom budgets and monitor spending trends</li>
            <li>Visual reports and insights to improve financial decisions</li>
            <li>Fast, clean interface designed with usability in mind</li>
        </ul>
    
        <h3>üì¨ Contact Us</h3>
        <p>We‚Äôd love to hear from you!</p>
        <p>üìß Email: <a href="mailto:mdlubz1811@example.com">mdlubz1811@example.com</a></p>
        <p>üìû Phone: <a href="tel:+917842335439">+91-7842335439</a></p>
        <p>üìç Location: Hyderabad, India</p>
        <p>For support, feedback, or collaboration opportunities, please don‚Äôt hesitate to reach out.</p>
    
        <h3>üîó Connect With Us</h3>
        <p>Stay in the loop and follow our journey:</p>
        <!-- You can add social media links here -->
    </div>    
    <div class="container" id="transaction-details-section" style="display: none;">
    <h2>Transaction Details</h2>

    <form id="add-transaction-form" onsubmit="addTransaction(event)" style="margin-bottom: 20px;">
        <input type="number" placeholder="Amount" id="amount" required>
        <input type="date" id="date" required>
        <input type="text" placeholder="Category" id="category" required>
        <button type="submit">Add Transaction</button>
    </form>

    <table border="1" style="width: 100%; border-collapse: collapse;" id="transaction-table">
        <thead>
            <tr>
                <th>S.No</th>
                <th>Transferred Amount</th>
                <th>Date</th>
                <th>Category</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="transaction-body">
            <!-- Transactions will appear here -->
        </tbody>
    </table>
</div>
<div class="container" id="transaction-category-section" style="display: none;">
    <h2>Spending by Category</h2>
    <button onclick="generateCategoryChart()">Refresh Chart</button>
    <canvas id="categoryPieChart" width="400" height="400"></canvas>
</div>
<div class="container" id="financial-advice-section" style="display: none;">
    <h2>üíº Financial Advice</h2>
    <p id="advice-text">Click the button to get your personalized spending advice.</p>
    <button onclick="showFinancialAdvice()">Get Advice</button>
</div>

</body>
</html>
